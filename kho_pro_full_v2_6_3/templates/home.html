{% extends 'base.html' %}
{% block content %}
<section class="dashboard">
  <!-- Header -->
  <div class="header">
    <h1>KHO H√ÄNG TH√îNG MINH</h1>
    <p>H·ªá th·ªëng qu·∫£n l√Ω kho t·ªëi gi·∫£n ‚Äì nhanh, nh·∫π, d·ªÖ d√πng.</p>
  </div>

  <!-- H√†ng ƒë·∫ßu: Th·ªëng k√™ + ƒêi·ªÅu chuy·ªÉn -->
  <div class="top-row">
    <div class="stat">
      <div class="icon">üì¶</div>
      <div class="label">S·∫£n ph·∫©m</div>
      <div class="value">{{ stat_sp }}</div>
    </div>
    <div class="stat">
      <div class="icon">üßÆ</div>
      <div class="label">T·ªïng t·ªìn</div>
      <div class="value">{{ stat_ton }}</div>
    </div>
    {% if IS_ADMIN %}
    <a href="{{ url_for('dieu_chuyen') }}" class="action action-admin">
      <h3>üîÅ ƒêi·ªÅu chuy·ªÉn</h3>
      <p>Chuy·ªÉn h√†ng gi·ªØa c√°c kho, t·ª± tr·ª´/c·ªông t·ªìn theo phi·∫øu.</p>
      <span class="badge-admin">Admin</span>
    </a>
    {% endif %}
  </div>

  <!-- H√†ng 2: Nh·∫≠p kho + Xu·∫•t kho (+ c·∫£nh b√°o n·∫øu admin) -->
  <div class="actions">
    <div class="action-row">
      <a href="{{ url_for('nhap_kho') }}" class="action">
        <h3>üì• Nh·∫≠p kho</h3>
        <p>Th√™m d√≤ng nh·∫≠p, ki·ªÉm so√°t gi√° nh·∫≠p m·ªõi.</p>
      </a>
      <a href="{{ url_for('xuat_kho') }}" class="action">
        <h3>üì§ Xu·∫•t kho</h3>
        <p>T·∫°o ƒë∆°n h√†ng v√† theo d√µi gi√° b√°n m·ªõi.</p>
      </a>
      {% if IS_ADMIN %}
      <a href="{{ url_for('canh_bao') }}" class="action action-admin">
        <h3>üö® C·∫£nh b√°o t·ªìn th·∫•p</h3>
        <p>Ph√°t hi·ªán s·ªõm m·∫∑t h√†ng s·∫Øp h·∫øt.</p>
        <span class="badge-admin">Admin</span>
      </a>
      {% endif %}
    </div>

    {% if IS_ADMIN %}
    <!-- H√†ng 3: Nh√† cung c·∫•p + Kh√°ch h√†ng + Xe v·∫≠n chuy·ªÉn -->
    <div class="admin-actions">
      <a href="{{ url_for('ncc_manage') }}" class="action action-admin">
        <h3>üè¢ Nh√† cung c·∫•p</h3>
        <p>Qu·∫£n l√Ω danh s√°ch nh√† cung c·∫•p, SƒêT, ƒë·ªãa ƒëi·ªÉm.</p>
        <span class="badge-admin">Admin</span>
      </a>
      <a href="{{ url_for('kh_manage') }}" class="action action-admin">
        <h3>üë§ Kh√°ch h√†ng</h3>
        <p>Qu·∫£n l√Ω danh s√°ch kh√°ch h√†ng, th√¥ng tin li√™n h·ªá.</p>
        <span class="badge-admin">Admin</span>
      </a>
      <a href="{{ url_for('xe_manage') }}" class="action action-admin">
        <h3>üöö Xe v·∫≠n chuy·ªÉn</h3>
        <p>Qu·∫£n l√Ω t√†i x·∫ø, bi·ªÉn s·ªë v√† th√¥ng tin li√™n h·ªá.</p>
        <span class="badge-admin">Admin</span>
      </a>
    </div>
    {% endif %}
  </div>
</section>

<style>
.dashboard { display:flex; flex-direction:column; gap:24px; padding-bottom:20px; font-family:'Segoe UI',sans-serif; }

.header { background:linear-gradient(135deg,#3b82f6,#10b981); color:white; padding:50px 28px; border-radius:20px; box-shadow:0 8px 20px rgba(0,0,0,0.15); text-align:center; }
.header h1 { font-size:2.5rem; font-weight:900; margin:0 0 6px 0; text-shadow:1px 1px 4px rgba(0,0,0,0.3); }
.header p { opacity:0.9; font-size:1.1rem; margin:0; }

.top-row { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:16px; }

.stats .stat, .top-row .stat {
  background:white; border-radius:16px; padding:20px; text-align:center;
  box-shadow:0 4px 16px rgba(0,0,0,0.08);
  transition:transform 0.2s ease,box-shadow 0.2s ease;
}
.stat:hover { transform:translateY(-4px); box-shadow:0 8px 24px rgba(0,0,0,0.15); }
.stat .icon { font-size:1.5rem; margin-bottom:6px; }
.stat .label { color:#64748b; font-size:0.9rem; }
.stat .value { font-size:2rem; font-weight:800; background:linear-gradient(90deg,#3b82f6,#10b981); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }

/* Nh·∫≠p/Xu·∫•t kho: 2 √¥ d√£n ra n·∫øu NV1, admin 3 √¥ */
.actions .action-row {
  display:grid;
  gap:20px;
  {% if not IS_ADMIN %}
  grid-template-columns: repeat(auto-fit, minmax(240px,1fr));
  {% else %}
  grid-template-columns: repeat(3,1fr);
  {% endif %}
}

.admin-actions { display:grid; grid-template-columns:repeat(3,1fr); gap:20px; margin-top:20px; }

.action {
  display:block; background:white; border-radius:16px; padding:24px;
  text-decoration:none; color:inherit;
  transition:transform 0.2s ease,box-shadow 0.2s ease,background 0.2s ease;
  box-shadow:0 4px 16px rgba(0,0,0,0.08);
}
.action:hover { transform:translateY(-5px); box-shadow:0 12px 28px rgba(0,0,0,0.18); background:linear-gradient(145deg,#f3f4f6,#ffffff); }
.action h3 { margin:0 0 8px 0; font-weight:700; font-size:1.3rem; display:flex; align-items:center; gap:8px; }
.action p { margin:0; color:#475569; font-size:0.95rem; }
.badge-admin { display:inline-block; margin-top:6px; font-size:0.75rem; color:white; background:#3b82f6; padding:2px 6px; border-radius:4px; text-transform:uppercase; }

@media (max-width:768px){
  .top-row, .actions .action-row, .admin-actions { grid-template-columns:1fr; }
  .header h1 { font-size:2rem; }
}
</style>
{% endblock %}
